{% extends "base.html" %}
{% block content %}
<section class="card">
  <h1>バックアップ</h1>
  <p class="hint">普段は使いませんが、万一のときにここから復元できます。</p>
  <div class="actions">
    <a class="button" href="/admin/backup.json">バックアップをダウンロード</a>
  </div>
  <form method="post" action="/admin/restore" enctype="multipart/form-data" class="form">
    <label>バックアップから復元（JSON）
      <input type="file" name="file" accept="application/json" required />
    </label>
    <p class="warning">復元すると、現在のデータは上書きされます。</p>
    <div class="actions">
      <button class="button" type="submit">バックアップを復元</button>
    </div>
  </form>
  {% if restore_status == "ok" %}
    <p class="success">バックアップを復元しました。</p>
  {% elif restore_status == "fail" %}
    <p class="warning">復元に失敗しました。JSONファイルを確認してください。</p>
  {% endif %}
</section>
{% endblock %}
